from collections import defaultdict

lst = [[((6, 1), (2.6457513110645907, 2.9154759474226504)), ((6, 2), (2.6457513110645907, 2.9154759474226504)), ((9, 4), (2.6457513110645907, 1.7320508075688772)), ((12, 0), (2.6457513110645907, 1.7320508075688772)), ((22, 9), (2.6457513110645907, 1.7320508075688772))], [((9, 3), (1.7320508075688772, 1.5811388300841898)), ((6, 1), (2.9154759474226504, 1.5811388300841898)), ((7, 1), (2.9154759474226504, 1.5811388300841898)), ((4, 2), (1.7320508075688772, 2.7386127875258306)), ((4, 4), (1.7320508075688772, 2.7386127875258306)), ((0, 0), (1.7320508075688772, 1.5811388300841898)), ((10, 7), (1.7320508075688772, 1.5811388300841898))], [((3, 1), (1.5811388300841898, 1.7320508075688772)), ((0, 4), (1.5811388300841898, 2.7386127875258306)), ((0, 8), (1.5811388300841898, 2.7386127875258306)), ((7, 2), (1.5811388300841898, 1.7320508075688772))], [((2, 0), (1.7320508075688772, 1.5811388300841898)), ((7, 4), (1.7320508075688772, 2.23606797749979)), ((7, 5), (1.7320508075688772, 2.23606797749979)), ((0, 3), (1.7320508075688772, 1.5811388300841898))]]
res = defaultdict(list)
for x in lst[0]:
	res[x[0][1]].append(x)
overlap = defaultdict(list)
for x in lst[1]:
	overlap[x[0][0]].append(x)

print(overlap)
print([u[0] for key1, u in (overlap.items() if overlap else ()) if key1 == 4])


res = [[[u[0][0][0], u[0][0][1], v[0][0][1]], [u[0][1][0] + u[0][1][1] + v[0][1][1]]] 
	for key1, u in (res.items() if res else ())
	for key2, v in (overlap.items() if overlap else ())
	if key1 == key2]
print(res)

print('list')
res = lst[0]
overlap = lst[1]
# print(res)
# print(overlap)
res = [[[u[0][0], u[0][1], v[0][1]], [u[1][0] + u[1][1] + v[1][1]]] for u in res for v in overlap
					if u[0][1] == v[0][0]]

print(res)


